<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>验证用户名是否存在</title>
<style>

</style>

</head>
<body>
<input id="idName" type="text" name="userName" />
<input id="btn" type="button" value="查询">
<div id="box"></div>
<!-- <dl>
	<dt><img src="images/1.png"></dt>
	<dd>店名：海底捞</dd>
	<dd>地址：立人科技C座四层</dd>
	<dd>联系电话：88888880</dd>
</dl>
<hr> -->
<script>	
	//ajax可用于用户注册验证---input控件中必须有 name="userName" 属性。
	//利用form表单的action属性是通过浏览器进行请求，跳向另外一个页面。 
	//请求参数的名字：userName;
	function $(id){
		return document.getElementById(id);
	}
	var oBox=$("box");
function getName(){
	var reg = new XMLHttpRequest();
	reg.open("get","hotPot.php",true);
	reg.onreadystatechange=function(){
		if(reg.readyState==4 && reg.status==200){
			var data=eval("("+reg.responseText+")");
				showDate(data);
		}
	}
	reg.send();
}
function showDate(data){
	for (var i = 0; i < data.length; i++) {
		var dl=document.createElement("dl");
		var dt=document.createElement("dt");
		var hr=document.createElement("hr");
		var img=document.createElement("img");
		img.src=data[i].imgPath;
		dt.appendChild(img);
		var dd=document.createElement("dd");
		dd.innerHTML="店名："+data[i].name+"地址："+data[i].address+"电话："+data[i].telphone;
		dl.appendChild(dt);
		dl.appendChild(dd);
		dl.appendChild(hr);
		oBox.appendChild(dl);
	}
	
}
	window.onload = function(){
		$("btn").onclick=function(){
			getName();
		}
	}
</script>
</body>
</html>

